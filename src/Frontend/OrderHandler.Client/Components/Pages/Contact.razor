@page "/contact"
@rendermode InteractiveServer
@inject NavigationManager NavigationManager

<Div Margin="Margin.IsAuto.OnX" Padding="Padding.Is5.OnX" Width="Width.Is75">
    <Heading Size="HeadingSize.Is2" Margin="Margin.Is3.FromBottom" TextAlignment="TextAlignment.Center">
        Contact us
    </Heading>
    <Paragraph Margin="Margin.Is5.FromBottom" TextAlignment="TextAlignment.Center">
        Facing a tech glitch? Interested in sharing thoughts on our beta feature? Curious about our Business plan details? We're here to help.
    </Paragraph>
    <Form>
        <Field>
            <FieldLabel RequiredIndicator>
                Your email
            </FieldLabel>
            <FieldBody>
                <TextEdit Placeholder="name@company.com" />
            </FieldBody>
        </Field>
        <Field>
            <FieldLabel>
                Subject
            </FieldLabel>
            <FieldBody>
                <TextEdit Placeholder="Let us know what you need" />
            </FieldBody>
        </Field>
        <Field>
            <FieldLabel RequiredIndicator>
                Message
            </FieldLabel>
            <FieldBody>
                <MemoEdit Placeholder="Leave a comment..." Rows="5" />
            </FieldBody>
        </Field>
        <Field>
            <Button Clicked="@ToggleModal" Color="Color.Primary">
                Send message
            </Button>
        </Field>
    </Form>
</Div>

@if (ModalVisible)
{
    <Div Flex="Flex.JustifyContent.Center">

        <Modal @bind-Visible="@ModalVisible">
            <ModalContent Centered>
                <ModalHeader>
                    <CloseButton />
                </ModalHeader>
                <ModalBody>
                    <Div Flex="Flex.JustifyContent.Center.AlignItems.Center" Padding="Padding.Is3">
                        <Icon Name="IconName.CheckCircle" IconSize="IconSize.x3" TextColor="TextColor.Success" />
                    </Div>
                    <Paragraph TextAlignment="TextAlignment.Center">
                        Thank you for reaching out to us! <br/> We will get to you within shortly.
                    </Paragraph>
                </ModalBody>
                <ModalFooter Flex="Flex.JustifyContent.Center.AlignItems.Center" Gap="Gap.Is3">
                    <Button Color="Color.Primary" Clicked="GoBackToAboutPage">
                        Continue
                    </Button>
                </ModalFooter>
            </ModalContent>
        </Modal>
    </Div>
}

@code {

    private bool ModalVisible { get; set; }

    private Task ToggleModal()
    {
        ModalVisible = !ModalVisible;
        return Task.CompletedTask;

    }

    private void GoBackToAboutPage()
    {
        ModalVisible = false;
        NavigationManager.NavigateTo("/about");
    }

}
